# Run with cwltest --test test-index.yaml --tool cwltoil -- --enable-dev

- id: cond-1
  label: direct_optional
  doc: Simplest conditional pattern (False)
  tool: cond-wf-001.cwl
  job: val.1.job.yaml
  output:
    out1: null
  tags: [ conditional ]

- id: cond-2
  label: direct_optional
  doc: Simplest conditional pattern (True)
  tool: cond-wf-001.cwl
  job: val.3.job.yaml
  output:
    out1: "foo 3"
  tags: [ conditional ]

- id: cond-3
  label: direct_required
  doc: Should give validation warning because of required sink
  tool: cond-wf-002.cwl
  job: val.1.job.yaml
  output:
    out1: null
  tags: [ conditional ]

- id: cond-4
  label: pass_through_required
  doc: "Pass through pattern with pickValue: first_non_null"
  tool: cond-wf-003.cwl
  job: val.1.job.yaml
  output:
    out1: "Direct"
  tags: [ conditional ]

- id: cond-5
  label: pass_through_required
  doc: "Pass through pattern with pickValue: first_non_null"
  tool: cond-wf-003.cwl
  job: val.3.job.yaml
  output:
    out1: "foo 3"
  tags: [ conditional ]

- id: cond-6
  label: pass_through_required
  doc: "pickValue: first_non_null needs to find at least one non null"
  tool: cond-wf-003.cwl
  job: val.2.job.yaml
  should_fail: True
  tags: [ conditional ]

- id: cond-7
  label: pass_through_required
  doc: "pickValue: only_non_null will pass, only for False condition"
  tool: cond-wf-004.cwl
  job: val.1.job.yaml
  output:
    out1: "Direct"
  tags: [ conditional ]
 
- id: cond-8
  label: 
  doc: "pickValue: only_non_null will fail due to multiple non nulls"
  tool: cond-wf-004.cwl
  job: val.3.job.yaml
  should_fail: True
  tags: [ conditional ]
 
- id: cond-9
  label: 
  doc: "pickValue: all_non_null will fail validation"
  tool: cond-wf-005.cwl
  job: val.3.job.yaml
  should_fail: True
  tags: [ conditional ]

- id: cond-10
  label: 
  doc: "pickValue: only_non_null will pass for only one active node"
  tool: cond-wf-006.cwl
  job: val.1.job.yaml
  output:
    out1: "bar 1"
  tags: [ conditional ]

- id: cond-11
  label: 
  doc: "pickValue: only_non_null will fail with two active nodes"
  tool: cond-wf-006.cwl
  job: val.3.job.yaml
  should_fail: True
  tags: [ conditional ]

- id: cond-12
  label: 
  doc: "pickValue: all_non_null will produce a list"
  tool: cond-wf-007.cwl
  job: val.0.job.yaml
  output:
    out1: []
  tags: [ conditional ]

- id: cond-13
  label: 
  doc: "pickValue: all_non_null will produce a list"
  tool: cond-wf-007.cwl
  job: val.1.job.yaml
  output:
    out1: ["bar 1"]
  tags: [ conditional ]

- id: cond-14
  label: 
  doc: "pickValue: all_non_null will produce a list"
  tool: cond-wf-007.cwl
  job: val.3.job.yaml
  output:
    out1: ["foo 3", "bar 3"]
  tags: [ conditional ]
